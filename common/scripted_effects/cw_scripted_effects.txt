next_state_category = {
	if = {
		limit = {
			OR = {
				has_state_category = wasteland
				has_state_category = enclave
				has_state_category = tiny_island
			}
		}
		set_state_category = pastoral
	}
	else_if = {
		limit = {
			OR = {
				has_state_category = pastoral
				has_state_category = small_island
			}
		}
		set_state_category = rural
	}
	else_if = {
		limit = {
			has_state_category = rural
		}
		set_state_category = town
	}
	else_if = {
		limit = {
			has_state_category = town
		}
		set_state_category = large_town
	}
	else_if = {
		limit = {
			has_state_category = large_town
		}
		set_state_category = city
	}
	else_if = {
		limit = {
			has_state_category = city
		}
		set_state_category = large_city
	}
	else_if = {
		limit = {
			has_state_category = large_city
		}
		set_state_category = metropolis
	}
	else_if = {
		limit = {
			has_state_category = metropolis
		}
		set_state_category = megalopolis
	}
}
kill_the_entire_state = {
	add_manpower = -9999999
	transfer_state_to = UNT
}
kill_all_divisions_on_territory = {
	every_owned_state = {
		every_state_division = {
			destroy_unit = yes
		}
	}
}
make_every_core_national_for_PREV = {
	every_core_state = {
		tooltip = every_core_state_tt
		add_core_of = PREV.PREV
	}
}
force_capitulate = {
	every_country_division = { destroy_unit = yes } #Otherwise the country can have garrisons on VPs and not capitulate
	every_controlled_state = {
		tooltip = every_controlled_state_tt
		controller = {
			random_enemy_country = {
				set_state_controller = PREV.PREV
			}
		}
	}
}
change_ruling_party_popularity = {
	if = {
		limit = {
			OR = {
				check_variable = { ideology_change_var > 1 }
				check_variable = { ideology_change_var < -1 }
			}
		}
		multiply_temp_variable = { ideology_change_var = 0.01 }
	}
	add_popularity = {
		ideology = var:current_party_ideology_group
		popularity = ideology_change_var
	}
}
do_german_renames = { #needs on_action to function
	if = {
		limit = {
			OR = {
				FGB = { controls_province = 6464 }
				GER = { controls_province = 6464 }
				WRD = { controls_province = 6464 }
				UVS = { controls_province = 6464 }
				FWG = { controls_province = 6464 }
				BAV = { controls_province = 6464 }
				EPR = { controls_province = 6464 }
			}
		}
		set_province_name = {
			id = 6464
			name = "Kattowitz"
		}
	}
	if = {
		limit = {
			OR = {
				FGB = { controls_province = 9511 }
				GER = { controls_province = 9511 }
				WRD = { controls_province = 9511 }
				UVS = { controls_province = 9511 }
				FWG = { controls_province = 9511 }
				BAV = { controls_province = 9511 }
				EPR = { controls_province = 9511 }
			}
		}
		set_province_name = {
			id = 9511
			name = "Oppeln"
		}
	}
}